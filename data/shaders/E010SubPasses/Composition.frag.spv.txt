Composition.frag
// Module Version 10000
// Generated by (magic number): 80008
// Id's are bound by 67

                              Capability Shader
                              Capability InputAttachment
               2:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 5  "main" 33
                              ExecutionMode 5 OriginUpperLeft
               1:             String  "Composition.frag"
                              Source GLSL 450 1  "// OpModuleProcessed client vulkan100
// OpModuleProcessed target-env vulkan1.0
// OpModuleProcessed entry-point main
#line 1
#version 450

layout (input_attachment_index = 0, set = 2, binding = 0) uniform subpassInput inputPosition;
layout (input_attachment_index = 1, set = 2, binding = 1) uniform subpassInput inputColor;
layout (input_attachment_index = 2, set = 2, binding = 2) uniform subpassInput inputNormal;

layout(set=2, binding=3) uniform PerMaterial{
	int mode;
};

layout(location = 0) out vec4 o_Color;

void main() {
	if(mode == 0){
		vec3 color = subpassLoad(inputPosition).rgb;
		o_Color.rgb = color;
	}else if(mode == 1){
		vec3 color = subpassLoad(inputColor).rgb;
		o_Color.rgb = color;
	}else if(mode == 2){
		vec3 color = subpassLoad(inputNormal).rgb;
		o_Color.rgb = color;
	}
}
"
                              Name 5  "main"
                              Name 8  "PerMaterial"
                              MemberName 8(PerMaterial) 0  "mode"
                              Name 10  ""
                              Name 22  "color"
                              Name 25  "inputPosition"
                              Name 33  "o_Color"
                              Name 44  "color"
                              Name 45  "inputColor"
                              Name 59  "color"
                              Name 60  "inputNormal"
                              MemberDecorate 8(PerMaterial) 0 Offset 0
                              Decorate 8(PerMaterial) Block
                              Decorate 10 DescriptorSet 2
                              Decorate 10 Binding 3
                              Decorate 25(inputPosition) DescriptorSet 2
                              Decorate 25(inputPosition) Binding 0
                              Decorate 25(inputPosition) InputAttachmentIndex 0
                              Decorate 33(o_Color) Location 0
                              Decorate 45(inputColor) DescriptorSet 2
                              Decorate 45(inputColor) Binding 1
                              Decorate 45(inputColor) InputAttachmentIndex 1
                              Decorate 60(inputNormal) DescriptorSet 2
                              Decorate 60(inputNormal) Binding 2
                              Decorate 60(inputNormal) InputAttachmentIndex 2
               3:             TypeVoid
               4:             TypeFunction 3
               7:             TypeInt 32 1
  8(PerMaterial):             TypeStruct 7(int)
               9:             TypePointer Uniform 8(PerMaterial)
              10:      9(ptr) Variable Uniform
              11:      7(int) Constant 0
              12:             TypePointer Uniform 7(int)
              15:             TypeBool
              19:             TypeFloat 32
              20:             TypeVector 19(float) 3
              21:             TypePointer Function 20(fvec3)
              23:             TypeImage 19(float) SubpassData nonsampled format:Unknown
              24:             TypePointer UniformConstant 23
25(inputPosition):     24(ptr) Variable UniformConstant
              27:             TypeVector 7(int) 2
              28:   27(ivec2) ConstantComposite 11 11
              29:             TypeVector 19(float) 4
              32:             TypePointer Output 29(fvec4)
     33(o_Color):     32(ptr) Variable Output
              40:      7(int) Constant 1
  45(inputColor):     24(ptr) Variable UniformConstant
              55:      7(int) Constant 2
 60(inputNormal):     24(ptr) Variable UniformConstant
         5(main):           3 Function None 4
               6:             Label
       22(color):     21(ptr) Variable Function
       44(color):     21(ptr) Variable Function
       59(color):     21(ptr) Variable Function
                              Line 1 14 0
              13:     12(ptr) AccessChain 10 11
              14:      7(int) Load 13
              16:    15(bool) IEqual 14 11
                              SelectionMerge 18 None
                              BranchConditional 16 17 37
              17:               Label
                                Line 1 15 0
              26:          23   Load 25(inputPosition)
              30:   29(fvec4)   ImageRead 26 28
              31:   20(fvec3)   VectorShuffle 30 30 0 1 2
                                Store 22(color) 31
                                Line 1 16 0
              34:   20(fvec3)   Load 22(color)
              35:   29(fvec4)   Load 33(o_Color)
              36:   29(fvec4)   VectorShuffle 35 34 4 5 6 3
                                Store 33(o_Color) 36
                                Branch 18
              37:               Label
                                Line 1 17 0
              38:     12(ptr)   AccessChain 10 11
              39:      7(int)   Load 38
              41:    15(bool)   IEqual 39 40
                                SelectionMerge 43 None
                                BranchConditional 41 42 52
              42:                 Label
                                  Line 1 18 0
              46:          23     Load 45(inputColor)
              47:   29(fvec4)     ImageRead 46 28
              48:   20(fvec3)     VectorShuffle 47 47 0 1 2
                                  Store 44(color) 48
                                  Line 1 19 0
              49:   20(fvec3)     Load 44(color)
              50:   29(fvec4)     Load 33(o_Color)
              51:   29(fvec4)     VectorShuffle 50 49 4 5 6 3
                                  Store 33(o_Color) 51
                                  Branch 43
              52:                 Label
                                  Line 1 20 0
              53:     12(ptr)     AccessChain 10 11
              54:      7(int)     Load 53
              56:    15(bool)     IEqual 54 55
                                  SelectionMerge 58 None
                                  BranchConditional 56 57 58
              57:                   Label
                                    Line 1 21 0
              61:          23       Load 60(inputNormal)
              62:   29(fvec4)       ImageRead 61 28
              63:   20(fvec3)       VectorShuffle 62 62 0 1 2
                                    Store 59(color) 63
                                    Line 1 22 0
              64:   20(fvec3)       Load 59(color)
              65:   29(fvec4)       Load 33(o_Color)
              66:   29(fvec4)       VectorShuffle 65 64 4 5 6 3
                                    Store 33(o_Color) 66
                                    Branch 58
              58:                 Label
                                  Branch 43
              43:               Label
                                Branch 18
              18:             Label
                              Return
                              FunctionEnd
